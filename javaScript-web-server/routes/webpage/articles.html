<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="/?file=style.css">
</head>

<body>
    <nav>
        <ul class="navbar">
            <li class="nav-item"><a href="/?file=main.html">Home</a></li>
            <li class="nav-item"><a href="/?file=articles.html">Articles</a></li>
            <li class="nav-item"><a href="/?file=photo.html">Photo</a></li>
            <li class="nav-item"><a href="/?file=about_me.html">About me</a></li>
        </ul>
    </nav>
    <main class="main">
        <h1>CoCo Sol</h1>
        <h2>Articles</h2>

        <div id="articles">
            <script>
                fetch('/data/data')
                    .then(response => response.json())
                    .then(data => {
                        data.forEach(article => {
                            const place = document.getElementById('articles');
                            articleButton = document.createElement('button');
                            title = document.createElement('h3');
                            title.textContent = article.title;
                            articleButton.classList.add('article-button');
                            articleButton.appendChild(title)

                            articleButton.addEventListener('click', function () {
                                window.location.href = '/article/' + article.id;
                            });

                            //articleButton.appendChild(document.createTextNode("aaaaaaaaaaaaaaaaaaa"));
                            place.appendChild(articleButton);
                        });
                    })
                    .catch(error => {
                        console.error("Une erreur s'est produite :", error);
                    });
            </script>
        </div>

    </main>
    <div class="sponsor">
        <a
            href="https://www.digitalocean.com/?refcode=6d089c7c6c04&utm_campaign=Referral_Invite&utm_medium=Referral_Program&utm_source=badge"><img
                src="https://web-platforms.sfo2.cdn.digitaloceanspaces.com/WWW/Badge%201.svg"
                alt="DigitalOcean Referral Badge" /></a>
    </div>
</body>

</html>